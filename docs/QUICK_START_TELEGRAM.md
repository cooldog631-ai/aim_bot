# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Telegram Bot

## üì± –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "AI Reports Bot")
   - –í–≤–µ–¥–∏—Ç–µ username (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ "bot", –Ω–∞–ø—Ä–∏–º–µ—Ä: "ai_reports_bot")
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π **Bot Token** (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

## ‚öôÔ∏è –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª

```bash
cp .env.example .env
```

### –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ .env

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω:

```bash
# Bot Configuration
MESSENGER_TYPE=telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# AI Services (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö)
OPENAI_API_KEY=your_openai_api_key_here

# Database (SQLite –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
DATABASE_URL=sqlite:///./aim_bot.db

# –î—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

## üì¶ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ)
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

## üóÑÔ∏è –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
python scripts/init_db.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ Database initialized successfully!
```

## üöÄ –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
python src/main.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
============================================================
üöÄ Starting AI Voice Reports Bot...
============================================================
Messenger type: telegram
...
Initializing Telegram bot...
‚úÖ Telegram bot initialized
‚úÖ Handlers registered for telegram
üöÄ Starting all messengers...
Starting Telegram bot...
‚úÖ Telegram bot started!
Listening for messages...
```

## ‚úÖ –®–∞–≥ 6: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –ø–æ username
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º!

## üé§ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

### –ë–µ–∑ AI (–¥–ª—è —Ç–µ—Å—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã):

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ë–æ—Ç —Å–∫–∞–∂–µ—Ç, —á—Ç–æ –ø–æ–ª—É—á–∏–ª –µ–≥–æ
3. –ë–µ–∑ OPENAI_API_KEY —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç

### –° AI (–ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª):

1. –ü–æ–ª—É—á–∏—Ç–µ OpenAI API –∫–ª—é—á –Ω–∞ https://platform.openai.com/api-keys
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```bash
   OPENAI_API_KEY=sk-...
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—Ç—á–µ—Ç–æ–º:
   - "–°–µ–≥–æ–¥–Ω—è 30 –æ–∫—Ç—è–±—Ä—è, —Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –∫–æ–º–±–∞–π–Ω–µ –Ω–æ–º–µ—Ä 15, –±—Ä–∏–≥–∞–¥–∞ 3"
   - "–ü—Ä–æ–≤–æ–¥–∏–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂"

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω:
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å –≥–æ–ª–æ—Å
- –ò–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω–æ—Ç—É
- –ü–æ–ø—Ä–æ—Å–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
Ctrl+C

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
tail -f logs/aim_bot.log

# –û—á–∏—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
rm aim_bot.db
python scripts/init_db.py

# –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python scripts/seed_data.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
pytest
```

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "TELEGRAM_BOT_TOKEN not set"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –§–∞–π–ª `.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –í –Ω–µ–º –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `TELEGRAM_BOT_TOKEN=...`
3. –ù–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`

### –û—à–∏–±–∫–∞: "No module named 'aiogram'"

```bash
pip install -r requirements.txt
```

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≤–∏–¥–∏—Ç–µ "Listening for messages..."
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –±–æ—Ç—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/aim_bot.log`

### –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `OPENAI_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ OpenAI –∞–∫–∫–∞—É–Ω—Ç–µ
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ SQLite CLI

```bash
sqlite3 aim_bot.db
sqlite> SELECT * FROM employees;
sqlite> SELECT * FROM reports;
sqlite> .quit
```

### –ß–µ—Ä–µ–∑ API

–ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä:

```bash
uvicorn src.api.app:create_app --factory --reload
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000/docs

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
2. ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
3. ‚è≠Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º AI –≤–∞–ª–∏–¥–∞—Ü–∏—é
4. ‚è≠Ô∏è –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç—á–µ—Ç–∞
5. ‚è≠Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
6. ‚è≠Ô∏è –î–µ–ø–ª–æ–∏–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/SETUP.md`
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `docs/ARCHITECTURE.md`
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/API.md`
- VK Max (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ): `docs/VK_MAX_INTEGRATION.md`

---

**–ì–æ—Ç–æ–≤–æ! –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram!** üéâ

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –ü–∏—à–∏—Ç–µ issue –∏–ª–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ `logs/aim_bot.log`
